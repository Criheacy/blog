---
sidebar_position: 2
title: 编码、哈希与加密
---

# Encoding vs. Hashing vs. Encryption

## 区别

最核心的区别在于：当我们说 **将 A 编码 / 哈希 / 加密 为 B（Encode / Hash / Encrypt A to B）** 时：

- 编码：**任何人**都可以将 B 转换回 A 
- 哈希：**没有人**可以将 B 转换回 A 
- 加密：只有**特定的人**可以将 B 转换回 A 

需要说明的是，这里的「不能转换」并不是说数学上完全不可行，而是需要花费的时间成本**极高**以至于实际不可能实现。当然，真实场景中也可能会因为算法安全性不高或其它原因，使得一些黑客获得将加密后或 hash 得到的 B 转换回 A 的手段，下文具体说明。

## 编码 Encoding

编码并不增加任何的安全性，它只是为了方便传输数据。许多人类使用的字符、语言符号对于计算机来说并不容易表示和保存，因此需要一种方法把各种字符统一转换为数字序列。当然也有一些编码方式是将特殊语言符号转化成英文字母和数字的序列，再有另外的编码方式二次编码。

常见编码方式：

- ASCII
- utf-8
- Base64

编码的原理其实十分简单，以 ASCII 为例，你只需要一张字符和编码的[对照表](https://www.ascii-code.com/)（随便一搜 `ASCII encoding table`），然后将每个文本中的字符转换成对应的数字，解码的时候再由数字对应回字符即可。上述这些在计算机中各个语言都有现成的实现算法，并不需要手动转换。

## 哈希 Hashing

因为 hash 函数的计算过程中含有不可逆的模运算 mod，因此 hash 函数具有不可逆性，这也是它的核心性质。这里我们不过多解释这些概念，也不去深究密码学中的内容，作为开发者我们就当 hash 函数是**不可逆的**就可以了。

hash 函数还具有以下特性：

- 如果两个消息完全相同，它们的 hash 值相同
- 如果两个消息不同，它们的 hash 值不同
  - 即使只有一点点差异，hash 值也会大相径庭

> 特性二能否成立其实取决于 hash 函数的抗碰撞性，而常见的 hash 函数因为输出结果很长碰撞的概率是极低的，甚至低于计算机受到宇宙射线影响而计算出错的几率，所以完全可以忽略不计。

常见的 hash 算法：

- SHA-2（包括 SHA-256 SHA-384 等常见算法）
- SHA-1
- MD5

:::note

近年来一些研究指出 SHA-2 是更安全的算法，其中 SHA-384 又是 SHA-2 中更安全的算法，甚至时至今日都没人找出一对 SHA-384 的碰撞。MD5 和 SHA-1 现在已经有一些构造碰撞攻击的方式，因此不太推荐使用。

:::

## 加密 Encryption

加密提供了一种**受限制的**解密方式，理想情况下需要知道密钥才能完成解密。如果加密和解密用的密钥相同，则称为对称加密，反之称为非对称加密。

常见的加密算法：

- RSA（非对称加密）
- AES（对称加密）